# ==============================================
# PLUGSPACE.IO TITAN v1.4 - ENVIRONMENT CONFIGURATION
# ==============================================
# This file serves as a template for all environment variables.
# Copy this file to .env and fill in your values.
#
# SECURITY NOTES:
# - Never commit .env files to version control
# - Rotate API keys regularly (recommended: every 90 days)
# - Use strong, unique passwords for all services
# - Keep backup copies of keys in a secure vault
# ==============================================

# ============================================
# ENVIRONMENT SETTINGS
# ============================================

# Application environment (development | staging | production)
NODE_ENV=development

# Timezone for logs and scheduling
TZ=UTC

# Application version
APP_VERSION=1.4.0

# ============================================
# APPLICATION URLS
# ============================================

# Base URLs for each application
LANDING_URL=http://localhost:3000
STUDIO_URL=http://localhost:3001
ADMIN_URL=http://localhost:3002
API_URL=http://localhost:4000

# Production domain
DOMAIN=plugspace.io

# Public-facing API URL (used in frontends)
NEXT_PUBLIC_API_URL=http://localhost:4000

# ============================================
# DATABASE - MONGODB
# ============================================

# MongoDB replica set connection string
# Format: mongodb://username:password@host1:port,host2:port,host3:port/database?replicaSet=rsName
DATABASE_URL=mongodb://admin:your_secure_password@localhost:27017,localhost:27018,localhost:27019/plugspace?replicaSet=rs0&authSource=admin

# MongoDB credentials
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=your_secure_mongo_password

# MongoDB connection pool settings
MONGO_POOL_SIZE=50
MONGO_MIN_POOL_SIZE=10
MONGO_MAX_IDLE_TIME_MS=30000

# ============================================
# CACHE & QUEUE - REDIS
# ============================================

# Redis connection URL
REDIS_URL=redis://:your_secure_redis_password@localhost:6379/0

# Redis password
REDIS_PASSWORD=your_secure_redis_password

# Redis pool settings
REDIS_POOL_SIZE=20
REDIS_MAX_RETRIES=3

# Queue-specific Redis database
REDIS_QUEUE_DB=1
REDIS_CACHE_DB=2
REDIS_SESSION_DB=3

# ============================================
# FIREBASE AUTHENTICATION
# ============================================

# Firebase project configuration
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com

# Firebase private key (include newlines as \n)
# Get this from Firebase Console > Project Settings > Service Accounts
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Firebase API key (for client-side)
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-firebase-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789:web:abc123

# ============================================
# AI SERVICES
# ============================================

# Anthropic Claude API
ANTHROPIC_API_KEY=sk-ant-api03-your_anthropic_key
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096

# Google AI (Gemini)
GOOGLE_AI_API_KEY=your_google_ai_api_key
GOOGLE_GEMINI_MODEL=gemini-1.5-pro-latest
GOOGLE_PROJECT_ID=your-google-cloud-project

# Google Vertex AI (for Imagen)
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# OpenAI (optional, for fallback)
OPENAI_API_KEY=sk-your_openai_key

# ============================================
# SECURITY & ENCRYPTION
# ============================================

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_refresh_token_secret_key
JWT_REFRESH_EXPIRES_IN=30d

# Encryption key for sensitive data (32 bytes = 256 bits)
ENCRYPTION_KEY=your_32_character_encryption_key!

# Password hashing
BCRYPT_ROUNDS=12

# Session secret
SESSION_SECRET=your_session_secret_key

# ============================================
# RATE LIMITING
# ============================================

# Global rate limits (requests per window)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# API rate limits per tier
RATE_LIMIT_FREE=50
RATE_LIMIT_PRO=200
RATE_LIMIT_BUSINESS=500
RATE_LIMIT_ENTERPRISE=2000

# AI endpoint rate limits (per minute)
AI_RATE_LIMIT_FREE=10
AI_RATE_LIMIT_PRO=50
AI_RATE_LIMIT_BUSINESS=200
AI_RATE_LIMIT_ENTERPRISE=1000

# ============================================
# CORS CONFIGURATION
# ============================================

# Allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,https://plugspace.io,https://studio.plugspace.io,https://admin.plugspace.io

# CORS settings
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ============================================
# LOGGING & MONITORING
# ============================================

# Log level (error | warn | info | http | verbose | debug | silly)
LOG_LEVEL=info

# Log format (json | simple | combined)
LOG_FORMAT=json

# Sentry error tracking
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# DataDog (optional)
DD_API_KEY=your_datadog_api_key
DD_SITE=datadoghq.com

# ============================================
# EMAIL SERVICES
# ============================================

# SendGrid
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@plugspace.io
SENDGRID_FROM_NAME=Plugspace.io

# SMTP fallback
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your_smtp_password
SMTP_SECURE=false

# ============================================
# STORAGE & CDN
# ============================================

# AWS S3
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=plugspace-uploads

# CloudFlare R2 (S3-compatible)
R2_ACCOUNT_ID=your_r2_account_id
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_BUCKET=plugspace-assets

# CDN URL for assets
CDN_URL=https://cdn.plugspace.io

# ============================================
# PAYMENT & BILLING
# ============================================

# Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs
STRIPE_PRICE_PRO_MONTHLY=price_xxx
STRIPE_PRICE_PRO_YEARLY=price_xxx
STRIPE_PRICE_BUSINESS_MONTHLY=price_xxx
STRIPE_PRICE_BUSINESS_YEARLY=price_xxx
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_xxx
STRIPE_PRICE_ENTERPRISE_YEARLY=price_xxx

# ============================================
# HOSTINGER VPS DEPLOYMENT
# ============================================

# VPS SSH configuration
VPS_HOST=your-vps.hostinger.com
VPS_USER=root
VPS_SSH_KEY_PATH=~/.ssh/hostinger_key
VPS_SSH_PORT=22

# Deploy paths
DEPLOY_PATH=/var/www/plugspace
BACKUP_PATH=/var/backups/plugspace

# ============================================
# DOMAIN & SSL
# ============================================

# Let's Encrypt
LETSENCRYPT_EMAIL=admin@plugspace.io

# Hostinger API (for domain management)
HOSTINGER_API_KEY=your_hostinger_api_key

# Cloudflare (for DNS management)
CLOUDFLARE_API_TOKEN=your_cloudflare_token
CLOUDFLARE_ZONE_ID=your_zone_id

# ============================================
# FEATURE FLAGS
# ============================================

# Feature toggles
FEATURE_VOICE_ENABLED=true
FEATURE_AI_AGENTS_ENABLED=true
FEATURE_TEMPLATES_ENABLED=true
FEATURE_MARKETPLACE_ENABLED=false
FEATURE_BILLING_ENABLED=true
FEATURE_SSO_ENABLED=false
FEATURE_MFA_ENABLED=true
FEATURE_AUDIT_LOG_ENABLED=true

# Beta features
FEATURE_BETA_CANVAS=false
FEATURE_BETA_COLLABORATION=false

# ============================================
# ADMIN & MAINTENANCE
# ============================================

# Master admin email (has access to admin panel)
ADMIN_EMAIL=plugspaceapp@gmail.com

# Additional admin emails (comma-separated)
ADMIN_EMAILS=plugspaceapp@gmail.com

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We're currently performing scheduled maintenance. Please check back soon.
MAINTENANCE_END_TIME=

# ============================================
# EXTERNAL INTEGRATIONS
# ============================================

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Microsoft Azure AD
AZURE_AD_CLIENT_ID=your_azure_client_id
AZURE_AD_CLIENT_SECRET=your_azure_client_secret
AZURE_AD_TENANT_ID=your_azure_tenant_id

# Twilio (for SMS MFA)
TWILIO_ACCOUNT_SID=your_twilio_sid
TWILIO_AUTH_TOKEN=your_twilio_token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# BACKUP CONFIGURATION
# ============================================

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# S3 backup bucket
S3_BACKUP_BUCKET=plugspace-backups

# ============================================
# MONITORING SERVICES
# ============================================

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_grafana_password
GRAFANA_ROOT_URL=http://localhost:3003

# Grafana SMTP (for alerts)
GF_SMTP_ENABLED=false
GF_SMTP_HOST=
GF_SMTP_USER=
GF_SMTP_PASSWORD=

# ============================================
# TESTING
# ============================================

# Test database
TEST_DATABASE_URL=mongodb://admin:password@localhost:27017/plugspace_test?authSource=admin

# Test Redis
TEST_REDIS_URL=redis://localhost:6379/15

# Test API keys (for development only)
TEST_API_KEY=test_api_key_for_development_only

# ============================================
# API DOCUMENTATION
# ============================================

# Swagger/OpenAPI
API_DOCS_ENABLED=true
API_DOCS_PATH=/docs
